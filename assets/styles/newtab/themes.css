/* ==========================================================================
   newtab theme overrides
   ========================================================================== */
/* Theme picker dropdown */
.theme-container {
  position: relative;
  display: inline-block;
}
.theme-dropdown {
   display: none; /* hidden by default until toggled */
   position: absolute;
   top: 100%;      /* just below the button */
   right: 0;
   margin-top: 4px;
   background: #ffffff;
   border: 1px solid #e2e8f0;
   border-radius: 8px;
   padding: 8px 0;
   min-width: 160px;
   box-shadow: 0 4px 6px rgba(0,0,0,0.1);
   z-index: 100;
}

.theme-dropdown.active {
  display: block !important;
}
.theme-dropdown button {
  width: 100%;
  padding: 8px 16px;
  text-align: left;
  background: none;
  border: none;
  cursor: pointer;
}
.theme-dropdown button:hover {
  background: #f1f5f9;
}

/* Dark‐theme sidebar text & hide color squares */
html[data-theme="dark"] .sidebar,
html[data-theme="dark"] .sidebar * {
  color: #ffffff !important;
}
html[data-theme="dark"] .group-color {
  display: none !important;
}
/* Hide color squares in light theme */
html[data-theme="light"] .group-color,
body.light-theme .group-color {
  display: none !important;
}

/* Dark‐theme sidebar item hover/focus */
html[data-theme="dark"] .group-item:hover {
  background: #2f2f38 !important;
}
html[data-theme="dark"] .group-item:focus,
html[data-theme="dark"] .group-item.active {
  background: #2a2a32 !important;
}

/* Dark‐theme badge */
html[data-theme="dark"] .sidebar .group-count {
  background: #4a4a55 !important;
  color: #ffffff !important;
}

/* Dark‐theme cards & folder rows */
html[data-theme="dark"] .bookmark-card,
html[data-theme="dark"] .mini-group-card,
html[data-theme="dark"] .temp-group-card {
  background: #2a2a32 !important;
  border: 1px solid #d1d5db !important;
  color: #ffffff !important;
}
/* Removed hover background change for bookmark cards */
html[data-theme="dark"] .bookmark-row,
html[data-theme="dark"] .bookmark-row.nested {
  background: #33323d !important;
  color: #ffffff !important;
}

/* Light theme body */
body.light-theme {
  background-color: var(--bg-body);
  color: var(--text-color);
}

/* Dark theme body */
body.dark-theme {
  background-color: #0f172a;
  --sidebar-bg: #1e293b;
  --hover-color: #334155;
  color: #f1f5f9;
}
body.dark-theme .sidebar {
  background-color: var(--sidebar-bg);
}
body.dark-theme .group-item:hover {
  background: var(--hover-color);
}

/* Image theme */
body.image-theme {
  background-size: cover;
  background-position: center;
}
body.image-theme .sidebar {
  background-color: rgba(255, 255, 255, 0.9);
}
body.image-theme .main-content {
  background-color: rgba(255, 255, 255, 0.8);
}

/* Persistent border overrides */
aside.sidebar,
html[data-theme="dark"] aside.sidebar,
body.light-theme .sidebar,
body.dark-theme .sidebar {
  border-right: 1px solid #696969 !important;
}
.main-header,
html[data-theme="dark"] .main-header,
body.light-theme .main-header,
body.dark-theme .main-header {

  border-bottom: 1px solid #696969 !important;
}
/* Dark‐theme folder card titles */
html[data-theme="dark"] .mini-group-header,
html[data-theme="dark"] .temp-group-card .mini-group-header {
  color: #ffffff !important;
}
/* Dark‐theme bookmark card titles */
html[data-theme="dark"] .bookmark-card .bookmark-title {
  color: #ffffff !important;
}
/* Dark‐theme group card titles */
html[data-theme="dark"] .mini-group-header,
html[data-theme="dark"] .temp-group-card .mini-group-header {
  color: #ffffff !important;
}
/* Dark‐theme card and group titles should use light text */
html[data-theme="dark"] .bookmark-card .bookmark-title,
html[data-theme="dark"] .mini-group-header,
html[data-theme="dark"] .temp-group-card .mini-group-header {
  color: #ffffff !important;
}
/* Dark‐theme bookmark titles in mini & temp group cards */
html[data-theme="dark"] .mini-group-card .bookmark-title,
html[data-theme="dark"] .temp-group-card .bookmark-title {
  color: #ffffff !important;
}
/* Dark‐theme bookmark‐row titles in group cards */
html[data-theme="dark"] .bookmark-row .bookmark-title,
html[data-theme="dark"] .bookmark-row.nested .bookmark-title {
  color: #ffffff !important;
}
/* Dark‐theme group card bookmark titles */
html[data-theme="dark"] .mini-group-card .bookmark-title,
html[data-theme="dark"] .temp-group-card .bookmark-title,
html[data-theme="dark"] .mini-group-card .bookmark-row .bookmark-title,
html[data-theme="dark"] .temp-group-card .bookmark-row .bookmark-title {
  color: #ffffff !important;
}
/* Dark‐theme: force all bookmark titles white inside group cards */
html[data-theme="dark"] .mini-group-card .bookmark-title,
html[data-theme="dark"] .temp-group-card .bookmark-title,
html[data-theme="dark"] .mini-group-card .bookmark-row .bookmark-title,
html[data-theme="dark"] .temp-group-card .bookmark-row .bookmark-title {
  color: #ffffff !important;
}
/* === Final override: ensure all bookmark titles in group cards are white in dark theme === */
html[data-theme="dark"] .mini-group-card .bookmark-title,
html[data-theme="dark"] .temp-group-card .bookmark-title {
  color: #ffffff !important;
}
/* Override bookmark-row hover to remove grey background */
html[data-theme="dark"] .bookmark-row:hover,
html[data-theme="dark"] .bookmark-row.nested:hover,
.bookmark-row:hover,
.bookmark-row.nested:hover {
  background: transparent !important;
}
/* Remove hover background on bookmark rows */
.bookmark-row:hover,
.bookmark-row.nested:hover,
html[data-theme="dark"] .bookmark-row:hover,
html[data-theme="dark"] .bookmark-row.nested:hover {
  background: transparent !important;
}
/* Dark‐theme dropdowns for folder menus */
html[data-theme="dark"] .folder-dropdown {
  background: var(--bg-group-card) !important;
  color: var(--text-color) !important;
}
html[data-theme="dark"] .folder-dropdown button {
  color: var(--text-color) !important;
}