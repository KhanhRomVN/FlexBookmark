/* ==========================================================================
   newtab theme overrides - UPDATED FOR NEW COLOR PALETTE
   ========================================================================== */

/* Dark‐theme sidebar text */
html[data-theme="dark"] .sidebar,
html[data-theme="dark"] .sidebar * {
  color: var(--text-color) !important;
}

/* Dark‐theme cards */
html[data-theme="dark"] .bookmark-card,
html[data-theme="dark"] .mini-group-card,
html[data-theme="dark"] .temp-group-card {
  background: var(--bg-bookmark-card) !important;
  color: var(--text-color) !important;
}

/* Image theme transparency */
body.image-theme .sidebar {
  background-color: var(--bg-sidebar) !important;
  backdrop-filter: blur(5px);
}

body.image-theme .main-header {
  background-color: var(--bg-header) !important;
  backdrop-filter: blur(5px);
}

body.image-theme .folder-card,
body.image-theme .mini-group-card,
body.image-theme .temp-group-card {
  background-color: var(--bg-group-card) !important;
  backdrop-filter: blur(3px);
}

/* Ensure text remains visible in image theme */
body.image-theme,
body.image-theme .bookmark-title,
body.image-theme .folder-title,
body.image-theme .header-title {
  color: #ffffff !important;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}

/* Fix dropdown colors in dark theme */
html[data-theme="dark"] .folder-dropdown,
html[data-theme="dark"] .menu-dropdown {
  background: var(--bg-group-card) !important;
  border: 1px solid var(--border-color) !important;
}

html[data-theme="dark"] .folder-dropdown button,
html[data-theme="dark"] .menu-dropdown button {
  color: var(--text-color) !important;
}

html[data-theme="dark"] .folder-dropdown button:hover,
html[data-theme="dark"] .menu-dropdown button:hover {
  background: var(--hover-bg) !important;
}

/* Light theme body */
body.light-theme {
  background-color: var(--bg-body);
  color: var(--text-color);
}

/* Dark theme body */
html[data-theme="dark"] {
  background-color: var(--bg-body) !important;
  color: var(--text-color) !important;
}

html[data-theme="dark"] .sidebar {
  background: var(--bg-sidebar) !important;
}

html[data-theme="dark"] .group-item:hover {
  background: var(--hover-bg) !important;
}

/* Image theme */
body.image-theme {
  background-size: cover;
  background-position: center;
}

body.image-theme .main-content {
  background-color: var(--bg-input) !important;
}

/* Persistent border overrides */
aside.sidebar,
html[data-theme="light"] .sidebar,
html[data-theme="dark"] .sidebar {
  border-right: 1px solid var(--border-color) !important;
}

.main-header,
html[data-theme="light"] .main-header,
html[data-theme="dark"] .main-header {
  border-bottom: 1px solid var(--border-color) !important;
}